<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.springpj.request.repository.RequestMapper">



    <!-- AS 신청    -->
    <insert id="insertRequest">
        INSERT INTO as_apply (as_num, cs_id, product_name, amount, as_choice, as_comment)
        VALUES
        (seq_as_apply.nextval, #{csId}, #{productName}, #{amount}, #{asChoice}, #{asComment})
    </insert>

    <!--  회원 목록 조회    -->
    <resultMap id="userMap" type="com.example.springpj.user.domain.User">
        <result property="id" column="cs_id" />
        <result property="name" column="cs_name" />
        <result property="csNum" column="cs_num" />
        <result property="postalCode" column="postal_code" />
    </resultMap>

    <!-- 단일 회원 조회 기능   -->
    <select id="requestUser" resultMap="userMap">
        SELECT cs_name FROM cs_user WHERE cs_id = #{id}
    </select>
</mapper>